<div class="container p-4">
  <div class="main">
    <section class="weather-card">
      <!-- Header -->
      <header class="wc-header h-50" *ngIf="data as w; else loading">
        <div class="wc-header-left">
          <!-- păstrez orașul tău afișat -->
          <h1 class="wc-city fs-1">Bucharest, Romania</h1>

          <!-- condiție simplă din API -->
          <div class="wc-condition">
            {{ (w.current?.precipitation ?? 0) > 0 ? "Rain" : "Clear" }}
          </div>

          <div class="wc-temp-row">
            <div class="wc-temp">
              <span class="wc-temp-value">{{
                w.current?.temperature_2m | number : "1.0-0"
              }}</span>
              <span class="wc-temp-unit">{{
                w.current_units?.temperature_2m || "° C"
              }}</span>
            </div>
            <div class="wc-minmax">
              <div>
                H:
                {{ w.daily?.temperature_2m_max?.[0] | number:'1.0-0'









                }}{{ w.current_units?.temperature_2m || "°C" }}
              </div>
              <div>
                L:
                {{ w.daily?.temperature_2m_min?.[0] | number:'1.0-0'









                }}{{ w.current_units?.temperature_2m || "°C" }}
              </div>
            </div>
          </div>
        </div>

        <div class="wc-header-right">
          <!-- SVG-ul tău -->
          <svg class="icon-xxl" viewBox="0 0 64 64" aria-hidden="true">
            <circle cx="32" cy="32" r="12" />
            <g>
              <line x1="32" y1="4" x2="32" y2="14" />
              <line x1="32" y1="50" x2="32" y2="60" />
              <line x1="4" y1="32" x2="14" y2="32" />
              <line x1="50" y1="32" x2="60" y2="32" />
              <line x1="11" y1="11" x2="18" y2="18" />
              <line x1="46" y1="46" x2="53" y2="53" />
              <line x1="11" y1="53" x2="18" y2="46" />
              <line x1="46" y1="18" x2="53" y2="11" />
            </g>
          </svg>
        </div>
      </header>

      <!-- Rând cu zilele săptămânii -->
      <div class="wc-days" *ngIf="data as w">
        <div
          class="wc-day"
          *ngFor="let d of w.daily?.time || []; let i = index"
        >
          <span class="d-name">{{ d | date : "EEE" }}</span>
          <span class="d-icon">☀️</span>
          <span class="d-temp">
            {{ w.daily?.temperature_2m_max?.[i] | number:'1.0-0' }}° C
          </span>
        </div>
      </div>

      <!-- Statistici mutate sub zile -->
      <div class="wc-stats h-50" *ngIf="data as w">
        <div class="wc-stat">
          <div class="s-title">Precipitation</div>
          <div class="s-value">
            {{ w.current?.precipitation ?? 0 | number : "1.0-1"
            }}{{ w.current_units?.precipitation || " mm" }}
          </div>

          <svg class="s-icon" viewBox="0 0 64 64" aria-hidden="true">
            <path
              d="M20 38a12 12 0 1 1 23.2-4H44a8 8 0 0 1 0 16H20a8 8 0 0 1 0-16z"
            />
            <g>
              <line x1="24" y1="44" x2="24" y2="56" />
              <line x1="32" y1="44" x2="32" y2="56" />
              <line x1="40" y1="44" x2="40" y2="56" />
            </g>
          </svg>
        </div>

        <!-- Wind: numai dacă îl vei adăuga în API -->
        <div class="wc-stat" *ngIf="w.current?.wind_speed_10m !== undefined">
          <div class="s-title">Wind</div>
          <div class="s-value">
            {{ w.current?.wind_speed_10m | number : "1.0-0" }} km/h
          </div>
          <div class="s-sub">

            <ng-template #noDir></ng-template>
          </div>
          <svg class="s-icon" viewBox="0 0 64 64" aria-hidden="true">
            <path d="M12 26h28a6 6 0 1 0-6-6" />
            <path d="M8 38h36a6 6 0 1 1-6 6" />
          </svg>
        </div>

        <div class="wc-stat">
          <div class="s-title">Humidity</div>
          <div class="s-value">
            {{ w.current?.relative_humidity_2m ?? "—"
            }}{{ w.current_units?.relative_humidity_2m || "%" }}
          </div>
          <div class="s-sub"></div>
          <svg class="s-icon" viewBox="0 0 64 64" aria-hidden="true">
            <path
              d="M32 10c8 12 16 18 16 28a16 16 0 1 1-32 0c0-10 8-16 16-28z"
            />
          </svg>
        </div>

        <div class="wc-stat">
          <div class="s-title">Pressure</div>
          <div class="s-value">
            {{ w.current?.surface_pressure ?? "—"
            }}{{ w.current_units?.surface_pressure || " hPa" }}
          </div>
          <div class="s-sub"></div>
          <svg class="s-icon" viewBox="0 0 64 64" aria-hidden="true">
            <circle cx="32" cy="32" r="18" />
            <line x1="32" y1="32" x2="46" y2="26" />
            <circle cx="32" cy="32" r="2" />
          </svg>
        </div>
      </div>

      <!-- fallback când nu e încărcat -->
      <ng-template #loading>
        <p>Loading weather data...</p>
      </ng-template>
    </section>
  </div>
</div>
